(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var Ball, Coord, Game, Player, game;

console.log('hello phaser');

Coord = (function() {
  function Coord(x, y) {
    this.x = x;
    this.y = y;
  }

  return Coord;

})();

Player = (function() {
  function Player(game, id, avatar) {
    var max_space_player, nbr_player, pointer, x, y;
    this.game = game;
    this.id = id;
    this.avatar = avatar;
    nbr_player = 5;
    max_space_player = this.game.phaser.width / (nbr_player + 1);
    pointer = max_space_player + this.id * max_space_player - (max_space_player / 2);
    x = max_space_player + this.id * max_space_player - (max_space_player / 2);
    y = this.game.phaser.world.height - 25;
    this.bucket = this.game.buckets.create(x, y, 'ground');
    this.bucket.width = max_space_player - 10;
    this.bucket.body.data.motionState = p2.Body.STATIC;
    this.bucket.body.uuid = this.id;
    this.bucket.playerParent = this;
    this.bucket.scale.setTo(0.3, 2);
    this.score = 0;
    this.scoreText = this.game.phaser.add.text(pointer, 16, '', {
      font: '32px arial',
      fill: '#fff'
    });
  }

  Player.prototype.addScore = function(score) {
    this.score += score;
    return this.scoreText.setText("player " + this.id + ": " + this.score);
  };

  return Player;

})();

Ball = (function() {
  function Ball(game, coord, score, type) {
    this.game = game;
    this.coord = coord;
    this.score = score;
    this.type = type;
    this.ball = this.game.balls.create(this.coord, 0, 'star');
    this.ball.physicsBodyType = Phaser.Physics.P2JS;
    this.ball.body.onBeginContact.add(this.captureBall, this);
  }

  Ball.prototype.captureBall = function(k) {
    if (k.sprite.key === 'ground') {
      this.game.players[k.uuid].addScore(this.score);
      return this.ball.kill();
    }
  };

  return Ball;

})();

Game = (function() {
  var GameStatus;

  GameStatus = {
    INIT: 1,
    RUNNING: 2,
    SCORE: 3
  };

  function Game(status, players) {
    var self;
    this.status = status;
    this.players = players;
    this.balls = null;
    this.buckets = null;
    this.colliders = null;
    this.players = {};
    self = this;
    this.phaser = new Phaser.Game(1200, 680, Phaser.AUTO, '', {
      preload: (function() {
        return self.preload();
      }),
      create: (function() {
        return self.create();
      }),
      update: (function() {
        return self.update();
      }),
      render: (function() {
        return self.render();
      })
    });
    this.socket = socket;
    this.socket.on('new player', (function(data) {
      return console.log(data);
    }));
    this.socket.on('character spawned', (function(data) {
      return console.log(data);
    }));
    this.socket.on('game stop', (function() {
      return console.log("GAME STOP");
    }));
  }

  Game.prototype.generate_fake_player = function() {
    var uuid, x, y, _i, _results;
    x = y = 0;
    _results = [];
    for (uuid = _i = 0; _i <= 4; uuid = ++_i) {
      _results.push(this.players[uuid] = new Player(this, uuid, null));
    }
    return _results;
  };

  Game.prototype.generate_fake_balls = function() {
    var ball, i, rd, _i, _results;
    _results = [];
    for (i = _i = 0; _i <= 12; i = ++_i) {
      rd = Math.random();
      if (0.95 < rd) {
        _results.push(ball = new Ball(this, i * 80, 10, 'facecat'));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  Game.prototype.preload = function() {
    console.log(':preload');
    this.phaser.load.image('sky', '/assets/images/sky.png');
    this.phaser.load.image('ground', '/assets/images/platform.png');
    this.phaser.load.image('circle', '/assets/images/circle.png');
    this.phaser.load.image('star', '/assets/images/star.png');
    return this.phaser.load.image('wall', '/assets/images/star.png');
  };

  Game.prototype.create = function() {
    console.log(':create');
    this.phaser.physics.startSystem(Phaser.Physics.P2JS);
    this.phaser.physics.p2.gravity.y = 500;
    this.phaser.add.sprite(0, 0, 'sky');
    this.buckets = this.phaser.add.group();
    this.buckets.enableBody = true;
    this.buckets.physicsBodyType = Phaser.Physics.P2JS;
    this.generate_fake_player();
    this.balls = this.phaser.add.group();
    this.balls.enableBody = true;
    this.balls.physicsBodyType = Phaser.Physics.P2JS;
    this.colliders = this.phaser.add.group();
    this.colliders.enableBody = true;
    this.colliders.physicsBodyType = Phaser.Physics.P2JS;
    this.new_line = new Phaser.Line(0, 0, 0, 0);
    return this.phaser.input.onDown.add(this.click, this);
  };

  Game.prototype.collectBalls = function(plateform, ball) {
    return plateform.playerParent.captureBall(ball);
  };

  Game.prototype.buildCollider = function(wall) {
    var wall_sprite;
    wall_sprite = this.colliders.create(wall.x, wall.y, 'circle');
    this.phaser.physics.p2.enable(wall_sprite, false);
    wall_sprite.body.data.motionState = p2.Body.STATIC;
    return wall_sprite.body.data.gravityScale = 0;
  };

  Game.prototype.update = function() {
    return this.generate_fake_balls();
  };

  Game.prototype.render = function() {};

  Game.prototype.click = function(pointer) {
    return this.buildCollider(pointer);
  };

  return Game;

})();

game = new Game();


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlcyI6WyIvaG9tZS9lcGkvQnVyZWF1L1NhdmVUaGVJbnRlcm5ldC9jbGllbnQvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL2hvbWUvZXBpL0J1cmVhdS9TYXZlVGhlSW50ZXJuZXQvY2xpZW50L3NjcmlwdHMvY29mZmVlL2FwcC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFBLCtCQUFBOztBQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksY0FBWixDQUFBLENBQUE7O0FBQUE7QUFLaUIsRUFBQSxlQUFFLENBQUYsRUFBTSxDQUFOLEdBQUE7QUFBVSxJQUFULElBQUMsQ0FBQSxJQUFBLENBQVEsQ0FBQTtBQUFBLElBQUwsSUFBQyxDQUFBLElBQUEsQ0FBSSxDQUFWO0VBQUEsQ0FBYjs7ZUFBQTs7SUFMSixDQUFBOztBQUFBO0FBUWlCLEVBQUEsZ0JBQUUsSUFBRixFQUFTLEVBQVQsRUFBYyxNQUFkLEdBQUE7QUFDVCxRQUFBLDJDQUFBO0FBQUEsSUFEVSxJQUFDLENBQUEsT0FBQSxJQUNYLENBQUE7QUFBQSxJQURpQixJQUFDLENBQUEsS0FBQSxFQUNsQixDQUFBO0FBQUEsSUFEc0IsSUFBQyxDQUFBLFNBQUEsTUFDdkIsQ0FBQTtBQUFBLElBQUEsVUFBQSxHQUFhLENBQWIsQ0FBQTtBQUFBLElBQ0EsZ0JBQUEsR0FBbUIsSUFBQyxDQUFBLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBYixHQUFxQixDQUFDLFVBQUEsR0FBYSxDQUFkLENBRHhDLENBQUE7QUFBQSxJQUdBLE9BQUEsR0FBVSxnQkFBQSxHQUFtQixJQUFDLENBQUEsRUFBRCxHQUFNLGdCQUF6QixHQUE0QyxDQUFDLGdCQUFBLEdBQW1CLENBQXBCLENBSHRELENBQUE7QUFBQSxJQUtBLENBQUEsR0FBSyxnQkFBQSxHQUFtQixJQUFDLENBQUEsRUFBRCxHQUFNLGdCQUF6QixHQUE0QyxDQUFDLGdCQUFBLEdBQW1CLENBQXBCLENBTGpELENBQUE7QUFBQSxJQU1BLENBQUEsR0FBSyxJQUFDLENBQUEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBbkIsR0FBNEIsRUFOakMsQ0FBQTtBQUFBLElBUUEsSUFBQyxDQUFBLE1BQUQsR0FBVSxJQUFDLENBQUEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFkLENBQXFCLENBQXJCLEVBQXdCLENBQXhCLEVBQTJCLFFBQTNCLENBUlYsQ0FBQTtBQUFBLElBU0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFSLEdBQWdCLGdCQUFBLEdBQW1CLEVBVG5DLENBQUE7QUFBQSxJQVVBLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFsQixHQUFnQyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BVnhDLENBQUE7QUFBQSxJQVdBLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQWIsR0FBb0IsSUFBQyxDQUFBLEVBWHJCLENBQUE7QUFBQSxJQVlBLElBQUMsQ0FBQSxNQUFNLENBQUMsWUFBUixHQUF1QixJQVp2QixDQUFBO0FBQUEsSUFhQSxJQUFDLENBQUEsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFkLENBQW9CLEdBQXBCLEVBQXlCLENBQXpCLENBYkEsQ0FBQTtBQUFBLElBY0EsSUFBQyxDQUFBLEtBQUQsR0FBUyxDQWRULENBQUE7QUFBQSxJQWVBLElBQUMsQ0FBQSxTQUFELEdBQWEsSUFBQyxDQUFBLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQWpCLENBQXNCLE9BQXRCLEVBQStCLEVBQS9CLEVBQW1DLEVBQW5DLEVBQXVDO0FBQUEsTUFBQSxJQUFBLEVBQU0sWUFBTjtBQUFBLE1BQW9CLElBQUEsRUFBTSxNQUExQjtLQUF2QyxDQWZiLENBRFM7RUFBQSxDQUFiOztBQUFBLG1CQWtCQSxRQUFBLEdBQVUsU0FBQyxLQUFELEdBQUE7QUFDTixJQUFBLElBQUMsQ0FBQSxLQUFELElBQVUsS0FBVixDQUFBO1dBQ0EsSUFBQyxDQUFBLFNBQVMsQ0FBQyxPQUFYLENBQW9CLFNBQUEsR0FBUSxJQUFDLENBQUEsRUFBVCxHQUFhLElBQWIsR0FBZ0IsSUFBQyxDQUFBLEtBQXJDLEVBRk07RUFBQSxDQWxCVixDQUFBOztnQkFBQTs7SUFSSixDQUFBOztBQUFBO0FBK0JpQixFQUFBLGNBQUUsSUFBRixFQUFTLEtBQVQsRUFBaUIsS0FBakIsRUFBeUIsSUFBekIsR0FBQTtBQUNULElBRFUsSUFBQyxDQUFBLE9BQUEsSUFDWCxDQUFBO0FBQUEsSUFEaUIsSUFBQyxDQUFBLFFBQUEsS0FDbEIsQ0FBQTtBQUFBLElBRHlCLElBQUMsQ0FBQSxRQUFBLEtBQzFCLENBQUE7QUFBQSxJQURpQyxJQUFDLENBQUEsT0FBQSxJQUNsQyxDQUFBO0FBQUEsSUFBQSxJQUFDLENBQUEsSUFBRCxHQUFRLElBQUMsQ0FBQSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQVosQ0FBbUIsSUFBQyxDQUFBLEtBQXBCLEVBQTJCLENBQTNCLEVBQThCLE1BQTlCLENBQVIsQ0FBQTtBQUFBLElBQ0EsSUFBQyxDQUFBLElBQUksQ0FBQyxlQUFOLEdBQXdCLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFEdkMsQ0FBQTtBQUFBLElBR0EsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQTFCLENBQThCLElBQUMsQ0FBQSxXQUEvQixFQUE0QyxJQUE1QyxDQUhBLENBRFM7RUFBQSxDQUFiOztBQUFBLGlCQU1BLFdBQUEsR0FBYSxTQUFDLENBQUQsR0FBQTtBQUNULElBQUEsSUFBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQVQsS0FBZ0IsUUFBbkI7QUFDSSxNQUFBLElBQUMsQ0FBQSxJQUFJLENBQUMsT0FBUSxDQUFBLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxRQUF0QixDQUErQixJQUFDLENBQUEsS0FBaEMsQ0FBQSxDQUFBO2FBQ0EsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFOLENBQUEsRUFGSjtLQURTO0VBQUEsQ0FOYixDQUFBOztjQUFBOztJQS9CSixDQUFBOztBQUFBO0FBNkNJLE1BQUEsVUFBQTs7QUFBQSxFQUFBLFVBQUEsR0FDSTtBQUFBLElBQUEsSUFBQSxFQUFPLENBQVA7QUFBQSxJQUNBLE9BQUEsRUFBVSxDQURWO0FBQUEsSUFFQSxLQUFBLEVBQVEsQ0FGUjtHQURKLENBQUE7O0FBS2EsRUFBQSxjQUFFLE1BQUYsRUFBVyxPQUFYLEdBQUE7QUFFVCxRQUFBLElBQUE7QUFBQSxJQUZVLElBQUMsQ0FBQSxTQUFBLE1BRVgsQ0FBQTtBQUFBLElBRm1CLElBQUMsQ0FBQSxVQUFBLE9BRXBCLENBQUE7QUFBQSxJQUFBLElBQUMsQ0FBQSxLQUFELEdBQVMsSUFBVCxDQUFBO0FBQUEsSUFDQSxJQUFDLENBQUEsT0FBRCxHQUFXLElBRFgsQ0FBQTtBQUFBLElBRUEsSUFBQyxDQUFBLFNBQUQsR0FBYSxJQUZiLENBQUE7QUFBQSxJQUdBLElBQUMsQ0FBQSxPQUFELEdBQVcsRUFIWCxDQUFBO0FBQUEsSUFLQSxJQUFBLEdBQU8sSUFMUCxDQUFBO0FBQUEsSUFNQSxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsTUFBTSxDQUFDLElBQVAsQ0FDVixJQURVLEVBRVYsR0FGVSxFQUdWLE1BQU0sQ0FBQyxJQUhHLEVBSVYsRUFKVSxFQUtWO0FBQUEsTUFBQSxPQUFBLEVBQVEsQ0FBRSxTQUFBLEdBQUE7ZUFBRyxJQUFJLENBQUMsT0FBTCxDQUFBLEVBQUg7TUFBQSxDQUFGLENBQVI7QUFBQSxNQUNBLE1BQUEsRUFBUSxDQUFFLFNBQUEsR0FBQTtlQUFHLElBQUksQ0FBQyxNQUFMLENBQUEsRUFBSDtNQUFBLENBQUYsQ0FEUjtBQUFBLE1BRUEsTUFBQSxFQUFRLENBQUMsU0FBQSxHQUFBO2VBQUcsSUFBSSxDQUFDLE1BQUwsQ0FBQSxFQUFIO01BQUEsQ0FBRCxDQUZSO0FBQUEsTUFHQSxNQUFBLEVBQVEsQ0FBQyxTQUFBLEdBQUE7ZUFBRyxJQUFJLENBQUMsTUFBTCxDQUFBLEVBQUg7TUFBQSxDQUFELENBSFI7S0FMVSxDQU5kLENBQUE7QUFBQSxJQWdCQSxJQUFDLENBQUEsTUFBRCxHQUFVLE1BaEJWLENBQUE7QUFBQSxJQWlCQSxJQUFDLENBQUEsTUFBTSxDQUFDLEVBQVIsQ0FBVyxZQUFYLEVBQXlCLENBQUMsU0FBQyxJQUFELEdBQUE7YUFBVSxPQUFPLENBQUMsR0FBUixDQUFZLElBQVosRUFBVjtJQUFBLENBQUQsQ0FBekIsQ0FqQkEsQ0FBQTtBQUFBLElBa0JBLElBQUMsQ0FBQSxNQUFNLENBQUMsRUFBUixDQUFXLG1CQUFYLEVBQWdDLENBQUMsU0FBQyxJQUFELEdBQUE7YUFBVSxPQUFPLENBQUMsR0FBUixDQUFZLElBQVosRUFBVjtJQUFBLENBQUQsQ0FBaEMsQ0FsQkEsQ0FBQTtBQUFBLElBbUJBLElBQUMsQ0FBQSxNQUFNLENBQUMsRUFBUixDQUFXLFdBQVgsRUFBd0IsQ0FBQyxTQUFBLEdBQUE7YUFBRyxPQUFPLENBQUMsR0FBUixDQUFZLFdBQVosRUFBSDtJQUFBLENBQUQsQ0FBeEIsQ0FuQkEsQ0FGUztFQUFBLENBTGI7O0FBQUEsaUJBNkJBLG9CQUFBLEdBQXNCLFNBQUEsR0FBQTtBQUNsQixRQUFBLHdCQUFBO0FBQUEsSUFBQSxDQUFBLEdBQUksQ0FBQSxHQUFJLENBQVIsQ0FBQTtBQUNBO1NBQVksbUNBQVosR0FBQTtBQUNJLG9CQUFBLElBQUMsQ0FBQSxPQUFRLENBQUEsSUFBQSxDQUFULEdBQXFCLElBQUEsTUFBQSxDQUFPLElBQVAsRUFBYSxJQUFiLEVBQW1CLElBQW5CLEVBQXJCLENBREo7QUFBQTtvQkFGa0I7RUFBQSxDQTdCdEIsQ0FBQTs7QUFBQSxpQkFrQ0EsbUJBQUEsR0FBcUIsU0FBQSxHQUFBO0FBQ2pCLFFBQUEseUJBQUE7QUFBQTtTQUFTLDhCQUFULEdBQUE7QUFDSSxNQUFBLEVBQUEsR0FBSyxJQUFJLENBQUMsTUFBTCxDQUFBLENBQUwsQ0FBQTtBQUNBLE1BQUEsSUFBRyxJQUFBLEdBQVEsRUFBWDtzQkFDSSxJQUFBLEdBQVcsSUFBQSxJQUFBLENBQUssSUFBTCxFQUFXLENBQUEsR0FBRSxFQUFiLEVBQWlCLEVBQWpCLEVBQXFCLFNBQXJCLEdBRGY7T0FBQSxNQUFBOzhCQUFBO09BRko7QUFBQTtvQkFEaUI7RUFBQSxDQWxDckIsQ0FBQTs7QUFBQSxpQkF5Q0EsT0FBQSxHQUFTLFNBQUEsR0FBQTtBQUNQLElBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxVQUFaLENBQUEsQ0FBQTtBQUFBLElBQ0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBYixDQUFtQixLQUFuQixFQUEwQix3QkFBMUIsQ0FEQSxDQUFBO0FBQUEsSUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFiLENBQW1CLFFBQW5CLEVBQTZCLDZCQUE3QixDQUZBLENBQUE7QUFBQSxJQUdBLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQWIsQ0FBbUIsUUFBbkIsRUFBNkIsMkJBQTdCLENBSEEsQ0FBQTtBQUFBLElBSUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBYixDQUFtQixNQUFuQixFQUEyQix5QkFBM0IsQ0FKQSxDQUFBO1dBS0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBYixDQUFtQixNQUFuQixFQUEyQix5QkFBM0IsRUFOTztFQUFBLENBekNULENBQUE7O0FBQUEsaUJBaURBLE1BQUEsR0FBUSxTQUFBLEdBQUE7QUFDTixJQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksU0FBWixDQUFBLENBQUE7QUFBQSxJQUNBLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQWhCLENBQTRCLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBM0MsQ0FEQSxDQUFBO0FBQUEsSUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQTNCLEdBQStCLEdBRi9CLENBQUE7QUFBQSxJQUdBLElBQUMsQ0FBQSxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQVosQ0FBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsRUFBeUIsS0FBekIsQ0FIQSxDQUFBO0FBQUEsSUFLQSxJQUFDLENBQUEsT0FBRCxHQUFXLElBQUMsQ0FBQSxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQVosQ0FBQSxDQUxYLENBQUE7QUFBQSxJQU1BLElBQUMsQ0FBQSxPQUFPLENBQUMsVUFBVCxHQUFzQixJQU50QixDQUFBO0FBQUEsSUFPQSxJQUFDLENBQUEsT0FBTyxDQUFDLGVBQVQsR0FBMkIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQVAxQyxDQUFBO0FBQUEsSUFTQSxJQUFDLENBQUEsb0JBQUQsQ0FBQSxDQVRBLENBQUE7QUFBQSxJQWFBLElBQUMsQ0FBQSxLQUFELEdBQVMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBWixDQUFBLENBYlQsQ0FBQTtBQUFBLElBY0EsSUFBQyxDQUFBLEtBQUssQ0FBQyxVQUFQLEdBQW9CLElBZHBCLENBQUE7QUFBQSxJQWVBLElBQUMsQ0FBQSxLQUFLLENBQUMsZUFBUCxHQUF5QixNQUFNLENBQUMsT0FBTyxDQUFDLElBZnhDLENBQUE7QUFBQSxJQWlCQSxJQUFDLENBQUEsU0FBRCxHQUFhLElBQUMsQ0FBQSxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQVosQ0FBQSxDQWpCYixDQUFBO0FBQUEsSUFrQkEsSUFBQyxDQUFBLFNBQVMsQ0FBQyxVQUFYLEdBQXdCLElBbEJ4QixDQUFBO0FBQUEsSUFtQkEsSUFBQyxDQUFBLFNBQVMsQ0FBQyxlQUFYLEdBQTZCLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFuQjVDLENBQUE7QUFBQSxJQXFCQSxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLE1BQU0sQ0FBQyxJQUFQLENBQVksQ0FBWixFQUFlLENBQWYsRUFBa0IsQ0FBbEIsRUFBcUIsQ0FBckIsQ0FyQmhCLENBQUE7V0FzQkEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQXJCLENBQXlCLElBQUMsQ0FBQSxLQUExQixFQUFpQyxJQUFqQyxFQXZCTTtFQUFBLENBakRSLENBQUE7O0FBQUEsaUJBMkVBLFlBQUEsR0FBYyxTQUFDLFNBQUQsRUFBWSxJQUFaLEdBQUE7V0FDWixTQUFTLENBQUMsWUFBWSxDQUFDLFdBQXZCLENBQW1DLElBQW5DLEVBRFk7RUFBQSxDQTNFZCxDQUFBOztBQUFBLGlCQThFQSxhQUFBLEdBQWUsU0FBQyxJQUFELEdBQUE7QUFDWCxRQUFBLFdBQUE7QUFBQSxJQUFBLFdBQUEsR0FBYyxJQUFDLENBQUEsU0FBUyxDQUFDLE1BQVgsQ0FBbUIsSUFBSSxDQUFDLENBQXhCLEVBQTJCLElBQUksQ0FBQyxDQUFoQyxFQUFtQyxRQUFuQyxDQUFkLENBQUE7QUFBQSxJQUNBLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxNQUFuQixDQUEwQixXQUExQixFQUF1QyxLQUF2QyxDQURBLENBQUE7QUFBQSxJQUVBLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQXRCLEdBQW9DLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFGNUMsQ0FBQTtXQUdBLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQXRCLEdBQXFDLEVBSjFCO0VBQUEsQ0E5RWYsQ0FBQTs7QUFBQSxpQkFvRkEsTUFBQSxHQUFRLFNBQUEsR0FBQTtXQUNOLElBQUMsQ0FBQSxtQkFBRCxDQUFBLEVBRE07RUFBQSxDQXBGUixDQUFBOztBQUFBLGlCQXdGQSxNQUFBLEdBQVEsU0FBQSxHQUFBLENBeEZSLENBQUE7O0FBQUEsaUJBMEZBLEtBQUEsR0FBTyxTQUFDLE9BQUQsR0FBQTtXQUNILElBQUMsQ0FBQSxhQUFELENBQWUsT0FBZixFQURHO0VBQUEsQ0ExRlAsQ0FBQTs7Y0FBQTs7SUE3Q0osQ0FBQTs7QUFBQSxJQTBJQSxHQUFXLElBQUEsSUFBQSxDQUFBLENBMUlYLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNvbnNvbGUubG9nICdoZWxsbyBwaGFzZXInXG5cblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jbGFzcyBDb29yZFxuICAgIGNvbnN0cnVjdG9yOiAoQHgsIEB5KSAtPlxuXG5jbGFzcyBQbGF5ZXJcbiAgICBjb25zdHJ1Y3RvcjogKEBnYW1lLCBAaWQsIEBhdmF0YXIpIC0+XG4gICAgICAgIG5icl9wbGF5ZXIgPSA1XG4gICAgICAgIG1heF9zcGFjZV9wbGF5ZXIgPSBAZ2FtZS5waGFzZXIud2lkdGggLyAobmJyX3BsYXllciArIDEpXG5cbiAgICAgICAgcG9pbnRlciA9IG1heF9zcGFjZV9wbGF5ZXIgKyBAaWQgKiBtYXhfc3BhY2VfcGxheWVyIC0gKG1heF9zcGFjZV9wbGF5ZXIgLyAyKVxuXG4gICAgICAgIHggPSAgbWF4X3NwYWNlX3BsYXllciArIEBpZCAqIG1heF9zcGFjZV9wbGF5ZXIgLSAobWF4X3NwYWNlX3BsYXllciAvIDIpXG4gICAgICAgIHkgPSAgQGdhbWUucGhhc2VyLndvcmxkLmhlaWdodCAtIDI1XG5cbiAgICAgICAgQGJ1Y2tldCA9IEBnYW1lLmJ1Y2tldHMuY3JlYXRlIHgsIHksICdncm91bmQnXG4gICAgICAgIEBidWNrZXQud2lkdGggPSBtYXhfc3BhY2VfcGxheWVyIC0gMTBcbiAgICAgICAgQGJ1Y2tldC5ib2R5LmRhdGEubW90aW9uU3RhdGUgPSBwMi5Cb2R5LlNUQVRJQ1xuICAgICAgICBAYnVja2V0LmJvZHkudXVpZCA9IEBpZFxuICAgICAgICBAYnVja2V0LnBsYXllclBhcmVudCA9IHRoaXNcbiAgICAgICAgQGJ1Y2tldC5zY2FsZS5zZXRUbyAwLjMsIDJcbiAgICAgICAgQHNjb3JlID0gMFxuICAgICAgICBAc2NvcmVUZXh0ID0gQGdhbWUucGhhc2VyLmFkZC50ZXh0IHBvaW50ZXIsIDE2LCAnJywgZm9udDogJzMycHggYXJpYWwnLCBmaWxsOiAnI2ZmZidcblxuICAgIGFkZFNjb3JlOiAoc2NvcmUpIC0+XG4gICAgICAgIEBzY29yZSArPSBzY29yZVxuICAgICAgICBAc2NvcmVUZXh0LnNldFRleHQgXCJwbGF5ZXIgI3tAaWR9OiAje0BzY29yZX1cIlxuXG5jbGFzcyBCYWxsXG4gICAgY29uc3RydWN0b3I6IChAZ2FtZSwgQGNvb3JkLCBAc2NvcmUsIEB0eXBlKSAtPlxuICAgICAgICBAYmFsbCA9IEBnYW1lLmJhbGxzLmNyZWF0ZSBAY29vcmQsIDAsICdzdGFyJ1xuICAgICAgICBAYmFsbC5waHlzaWNzQm9keVR5cGUgPSBQaGFzZXIuUGh5c2ljcy5QMkpTXG5cbiAgICAgICAgQGJhbGwuYm9keS5vbkJlZ2luQ29udGFjdC5hZGQoQGNhcHR1cmVCYWxsLCB0aGlzKVxuXG4gICAgY2FwdHVyZUJhbGw6IChrKSAtPlxuICAgICAgICBpZiBrLnNwcml0ZS5rZXkgPT0gJ2dyb3VuZCdcbiAgICAgICAgICAgIEBnYW1lLnBsYXllcnNbay51dWlkXS5hZGRTY29yZShAc2NvcmUpXG4gICAgICAgICAgICBAYmFsbC5raWxsKClcblxuXG5cbmNsYXNzIEdhbWVcbiAgICBHYW1lU3RhdHVzID1cbiAgICAgICAgSU5JVCA6IDFcbiAgICAgICAgUlVOTklORyA6IDJcbiAgICAgICAgU0NPUkUgOiAzXG5cbiAgICBjb25zdHJ1Y3RvcjogKEBzdGF0dXMsIEBwbGF5ZXJzKSAtPlxuICAgICAgICAjIGJhc2ljIGNvbmZpZ1xuICAgICAgICBAYmFsbHMgPSBudWxsXG4gICAgICAgIEBidWNrZXRzID0gbnVsbFxuICAgICAgICBAY29sbGlkZXJzID0gbnVsbFxuICAgICAgICBAcGxheWVycyA9IHt9XG4gICAgICAgICMgR2VuZXJhdGUgdGhlIHdvcmRcbiAgICAgICAgc2VsZiA9IHRoaXNcbiAgICAgICAgQHBoYXNlciA9IG5ldyBQaGFzZXIuR2FtZShcbiAgICAgICAgICAgIDEyMDAsXG4gICAgICAgICAgICA2ODAsXG4gICAgICAgICAgICBQaGFzZXIuQVVUTyxcbiAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgcHJlbG9hZDooIC0+IHNlbGYucHJlbG9hZCgpKSxcbiAgICAgICAgICAgIGNyZWF0ZTogKCAtPiBzZWxmLmNyZWF0ZSgpKSxcbiAgICAgICAgICAgIHVwZGF0ZTogKC0+IHNlbGYudXBkYXRlKCkpLFxuICAgICAgICAgICAgcmVuZGVyOiAoLT4gc2VsZi5yZW5kZXIoKSlcbiAgICAgICAgKVxuICAgICAgICBAc29ja2V0ID0gc29ja2V0XG4gICAgICAgIEBzb2NrZXQub24oJ25ldyBwbGF5ZXInLCAoKGRhdGEpIC0+IGNvbnNvbGUubG9nIGRhdGEpKVxuICAgICAgICBAc29ja2V0Lm9uKCdjaGFyYWN0ZXIgc3Bhd25lZCcsICgoZGF0YSkgLT4gY29uc29sZS5sb2cgZGF0YSkpXG4gICAgICAgIEBzb2NrZXQub24oJ2dhbWUgc3RvcCcsICgtPiBjb25zb2xlLmxvZyBcIkdBTUUgU1RPUFwiICkpXG5cblxuICAgIGdlbmVyYXRlX2Zha2VfcGxheWVyOiAoKSAtPlxuICAgICAgICB4ID0geSA9IDBcbiAgICAgICAgZm9yIHV1aWQgaW4gWzAuLjRdXG4gICAgICAgICAgICBAcGxheWVyc1t1dWlkXSA9IG5ldyBQbGF5ZXIodGhpcywgdXVpZCwgbnVsbClcblxuICAgIGdlbmVyYXRlX2Zha2VfYmFsbHM6ICgpIC0+XG4gICAgICAgIGZvciBpIGluIFswLi4xMl1cbiAgICAgICAgICAgIHJkID0gTWF0aC5yYW5kb20oKVxuICAgICAgICAgICAgaWYgMC45NSAgPCByZFxuICAgICAgICAgICAgICAgIGJhbGwgPSBuZXcgQmFsbCh0aGlzLCBpKjgwLCAxMCwgJ2ZhY2VjYXQnKVxuXG5cbiAgICBwcmVsb2FkOiAoKSAtPlxuICAgICAgY29uc29sZS5sb2cgJzpwcmVsb2FkJ1xuICAgICAgQHBoYXNlci5sb2FkLmltYWdlICdza3knLCAnL2Fzc2V0cy9pbWFnZXMvc2t5LnBuZydcbiAgICAgIEBwaGFzZXIubG9hZC5pbWFnZSAnZ3JvdW5kJywgJy9hc3NldHMvaW1hZ2VzL3BsYXRmb3JtLnBuZydcbiAgICAgIEBwaGFzZXIubG9hZC5pbWFnZSAnY2lyY2xlJywgJy9hc3NldHMvaW1hZ2VzL2NpcmNsZS5wbmcnXG4gICAgICBAcGhhc2VyLmxvYWQuaW1hZ2UgJ3N0YXInLCAnL2Fzc2V0cy9pbWFnZXMvc3Rhci5wbmcnXG4gICAgICBAcGhhc2VyLmxvYWQuaW1hZ2UgJ3dhbGwnLCAnL2Fzc2V0cy9pbWFnZXMvc3Rhci5wbmcnXG5cbiAgICBjcmVhdGU6ICgpIC0+XG4gICAgICBjb25zb2xlLmxvZyAnOmNyZWF0ZSdcbiAgICAgIEBwaGFzZXIucGh5c2ljcy5zdGFydFN5c3RlbSBQaGFzZXIuUGh5c2ljcy5QMkpTXG4gICAgICBAcGhhc2VyLnBoeXNpY3MucDIuZ3Jhdml0eS55ID0gNTAwXG4gICAgICBAcGhhc2VyLmFkZC5zcHJpdGUgMCwgMCwgJ3NreSdcblxuICAgICAgQGJ1Y2tldHMgPSBAcGhhc2VyLmFkZC5ncm91cCgpXG4gICAgICBAYnVja2V0cy5lbmFibGVCb2R5ID0gdHJ1ZVxuICAgICAgQGJ1Y2tldHMucGh5c2ljc0JvZHlUeXBlID0gUGhhc2VyLlBoeXNpY3MuUDJKU1xuXG4gICAgICBAZ2VuZXJhdGVfZmFrZV9wbGF5ZXIoKVxuXG5cbiAgICAgICNjdXJzb3JzID0gQHBoYXNlci5pbnB1dC5rZXlib2FyZC5jcmVhdGVDdXJzb3JLZXlzKClcbiAgICAgIEBiYWxscyA9IEBwaGFzZXIuYWRkLmdyb3VwKClcbiAgICAgIEBiYWxscy5lbmFibGVCb2R5ID0gdHJ1ZVxuICAgICAgQGJhbGxzLnBoeXNpY3NCb2R5VHlwZSA9IFBoYXNlci5QaHlzaWNzLlAySlNcblxuICAgICAgQGNvbGxpZGVycyA9IEBwaGFzZXIuYWRkLmdyb3VwKClcbiAgICAgIEBjb2xsaWRlcnMuZW5hYmxlQm9keSA9IHRydWVcbiAgICAgIEBjb2xsaWRlcnMucGh5c2ljc0JvZHlUeXBlID0gUGhhc2VyLlBoeXNpY3MuUDJKU1xuXG4gICAgICBAbmV3X2xpbmUgPSBuZXcgUGhhc2VyLkxpbmUgMCwgMCwgMCwgMFxuICAgICAgQHBoYXNlci5pbnB1dC5vbkRvd24uYWRkKEBjbGljaywgdGhpcylcblxuXG4gICAgY29sbGVjdEJhbGxzOiAocGxhdGVmb3JtLCBiYWxsKSAtPlxuICAgICAgcGxhdGVmb3JtLnBsYXllclBhcmVudC5jYXB0dXJlQmFsbChiYWxsKVxuXG4gICAgYnVpbGRDb2xsaWRlcjogKHdhbGwpIC0+XG4gICAgICAgIHdhbGxfc3ByaXRlID0gQGNvbGxpZGVycy5jcmVhdGUgIHdhbGwueCwgd2FsbC55LCAnY2lyY2xlJ1xuICAgICAgICBAcGhhc2VyLnBoeXNpY3MucDIuZW5hYmxlKHdhbGxfc3ByaXRlLCBmYWxzZSlcbiAgICAgICAgd2FsbF9zcHJpdGUuYm9keS5kYXRhLm1vdGlvblN0YXRlID0gcDIuQm9keS5TVEFUSUNcbiAgICAgICAgd2FsbF9zcHJpdGUuYm9keS5kYXRhLmdyYXZpdHlTY2FsZSA9IDBcblxuICAgIHVwZGF0ZTogKCkgLT5cbiAgICAgIEBnZW5lcmF0ZV9mYWtlX2JhbGxzKClcblxuXG4gICAgcmVuZGVyOiAoKSAtPlxuXG4gICAgY2xpY2s6IChwb2ludGVyKSAtPlxuICAgICAgICBAYnVpbGRDb2xsaWRlcihwb2ludGVyKVxuXG5nYW1lID0gbmV3IEdhbWUoKVxuIl19
