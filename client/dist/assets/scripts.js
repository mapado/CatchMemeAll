(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var Coord, Game, Player, game;

console.log('hello phaser');

Coord = (function() {
  function Coord(x, y) {
    this.x = x;
    this.y = y;
  }

  return Coord;

})();

Player = (function() {
  function Player(game, id, score) {
    var ground;
    this.game = game;
    this.id = id;
    this.score = score;
    ground = platforms.create((this.game.phaser.world.width / this.game.players.length) * id, this.game.phaser.world.height - 64, 'ground');
    ground.scale.setTo(0.3, 2);
    ground.body.immovable = true;
  }

  return Player;

})();

Game = (function() {
  var GameStatus;

  GameStatus = {
    INIT: 1,
    RUNNING: 2,
    SCORE: 3
  };

  function Game(status, players) {
    this.status = status;
    this.players = players;
    this.window_x = 1200;
    this.window_y = 680;
    this.stars = null;
    this.scoreText = null;
    this.score = 0;
    this.players = [];
    this.phaser = new Phaser.Game(this.window_x, this.window_y, Phaser.AUTO, '', {
      preload: this.preload,
      create: this.create,
      update: this.update
    });
    this.generate_fake_player();
    this.platforms = this.phaser.add.group();
  }

  Game.prototype.generate_fake_player = function() {
    var i, x, y, _i, _results;
    x = y = 0;
    _results = [];
    for (i = _i = 0; _i <= 3; i = ++_i) {
      _results.push(this.players.push(new Player(this.game, i, 0)));
    }
    return _results;
  };

  Game.prototype.preload = function() {
    console.log(':preload');
    console.log(this);
    this.load.image('sky', '/assets/images/sky.png');
    this.load.image('ground', '/assets/images/platform.png');
    return this.load.image('star', '/assets/images/star.png');
  };

  Game.prototype.create = function() {
    var i, scoreText, star, stars, _i;
    console.log(':create');
    this.phaser.add.sprite(0, 0, 'sky');
    this.phaser.add.sprite(0, 0, 'star');
    stars = this.phaser.add.group();
    for (i = _i = 0; _i <= 12; i = ++_i) {
      star = stars.create(i * 70, 0, 'star');
      star.body.gravity.y = 6;
      star.body.bounce.y = 0.7 + Math.random() * 0.2;
    }
    return scoreText = this.phaser.add.text(16, 16, 'score: 0', {
      font: '32px arial',
      fill: '#000'
    });
  };

  Game.prototype.collectStar = function(player, star) {
    star.kill();
    score += 10;
    return scoreText.content = "Score: " + score;
  };

  Game.prototype.update = function() {
    this.phaser.physics.collide(stars, platforms);
    return this.phaser.physics.overlap(stars, collectStar, null, this);
  };

  return Game;

})();

game = new Game();


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlcyI6WyIvaG9tZS9lcGkvQnVyZWF1L1NhdmVUaGVJbnRlcm5ldC9jbGllbnQvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL2hvbWUvZXBpL0J1cmVhdS9TYXZlVGhlSW50ZXJuZXQvY2xpZW50L3NjcmlwdHMvY29mZmVlL2FwcC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFBLHlCQUFBOztBQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksY0FBWixDQUFBLENBQUE7O0FBQUE7QUFNaUIsRUFBQSxlQUFFLENBQUYsRUFBTSxDQUFOLEdBQUE7QUFBVSxJQUFULElBQUMsQ0FBQSxJQUFBLENBQVEsQ0FBQTtBQUFBLElBQUwsSUFBQyxDQUFBLElBQUEsQ0FBSSxDQUFWO0VBQUEsQ0FBYjs7ZUFBQTs7SUFOSixDQUFBOztBQUFBO0FBU2lCLEVBQUEsZ0JBQUUsSUFBRixFQUFTLEVBQVQsRUFBYyxLQUFkLEdBQUE7QUFDVCxRQUFBLE1BQUE7QUFBQSxJQURVLElBQUMsQ0FBQSxPQUFBLElBQ1gsQ0FBQTtBQUFBLElBRGlCLElBQUMsQ0FBQSxLQUFBLEVBQ2xCLENBQUE7QUFBQSxJQURzQixJQUFDLENBQUEsUUFBQSxLQUN2QixDQUFBO0FBQUEsSUFBQSxNQUFBLEdBQVMsU0FBUyxDQUFDLE1BQVYsQ0FBaUIsQ0FBQyxJQUFDLENBQUEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBbkIsR0FBMkIsSUFBQyxDQUFBLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBMUMsQ0FBQSxHQUFrRCxFQUFuRSxFQUF1RSxJQUFDLENBQUEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBbkIsR0FBNEIsRUFBbkcsRUFBdUcsUUFBdkcsQ0FBVCxDQUFBO0FBQUEsSUFDQSxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQWIsQ0FBbUIsR0FBbkIsRUFBd0IsQ0FBeEIsQ0FEQSxDQUFBO0FBQUEsSUFFQSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVosR0FBd0IsSUFGeEIsQ0FEUztFQUFBLENBQWI7O2dCQUFBOztJQVRKLENBQUE7O0FBQUE7QUFlSSxNQUFBLFVBQUE7O0FBQUEsRUFBQSxVQUFBLEdBQ0k7QUFBQSxJQUFBLElBQUEsRUFBTyxDQUFQO0FBQUEsSUFDQSxPQUFBLEVBQVUsQ0FEVjtBQUFBLElBRUEsS0FBQSxFQUFRLENBRlI7R0FESixDQUFBOztBQUthLEVBQUEsY0FBRSxNQUFGLEVBQVcsT0FBWCxHQUFBO0FBRVQsSUFGVSxJQUFDLENBQUEsU0FBQSxNQUVYLENBQUE7QUFBQSxJQUZtQixJQUFDLENBQUEsVUFBQSxPQUVwQixDQUFBO0FBQUEsSUFBQSxJQUFDLENBQUEsUUFBRCxHQUFZLElBQVosQ0FBQTtBQUFBLElBQ0EsSUFBQyxDQUFBLFFBQUQsR0FBWSxHQURaLENBQUE7QUFBQSxJQUVBLElBQUMsQ0FBQSxLQUFELEdBQVMsSUFGVCxDQUFBO0FBQUEsSUFHQSxJQUFDLENBQUEsU0FBRCxHQUFhLElBSGIsQ0FBQTtBQUFBLElBSUEsSUFBQyxDQUFBLEtBQUQsR0FBUyxDQUpULENBQUE7QUFBQSxJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVcsRUFMWCxDQUFBO0FBQUEsSUFPQSxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsTUFBTSxDQUFDLElBQVAsQ0FBWSxJQUFDLENBQUEsUUFBYixFQUF1QixJQUFDLENBQUEsUUFBeEIsRUFBa0MsTUFBTSxDQUFDLElBQXpDLEVBQStDLEVBQS9DLEVBQW1EO0FBQUEsTUFBQSxPQUFBLEVBQVMsSUFBQyxDQUFBLE9BQVY7QUFBQSxNQUFtQixNQUFBLEVBQVEsSUFBQyxDQUFBLE1BQTVCO0FBQUEsTUFBb0MsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQUE3QztLQUFuRCxDQVBkLENBQUE7QUFBQSxJQVFBLElBQUMsQ0FBQSxvQkFBRCxDQUFBLENBUkEsQ0FBQTtBQUFBLElBU0EsSUFBQyxDQUFBLFNBQUQsR0FBYSxJQUFDLENBQUEsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFaLENBQUEsQ0FUYixDQUZTO0VBQUEsQ0FMYjs7QUFBQSxpQkFtQkEsb0JBQUEsR0FBc0IsU0FBQSxHQUFBO0FBQ2xCLFFBQUEscUJBQUE7QUFBQSxJQUFBLENBQUEsR0FBSSxDQUFBLEdBQUksQ0FBUixDQUFBO0FBQ0E7U0FBUyw2QkFBVCxHQUFBO0FBQ0ksb0JBQUEsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWtCLElBQUEsTUFBQSxDQUFPLElBQUMsQ0FBQSxJQUFSLEVBQWMsQ0FBZCxFQUFpQixDQUFqQixDQUFsQixFQUFBLENBREo7QUFBQTtvQkFGa0I7RUFBQSxDQW5CdEIsQ0FBQTs7QUFBQSxpQkF3QkEsT0FBQSxHQUFTLFNBQUEsR0FBQTtBQUNQLElBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxVQUFaLENBQUEsQ0FBQTtBQUFBLElBQ0EsT0FBTyxDQUFDLEdBQVIsQ0FBWSxJQUFaLENBREEsQ0FBQTtBQUFBLElBRUEsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFWLENBQWdCLEtBQWhCLEVBQXVCLHdCQUF2QixDQUZBLENBQUE7QUFBQSxJQUdBLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBVixDQUFnQixRQUFoQixFQUEwQiw2QkFBMUIsQ0FIQSxDQUFBO1dBSUEsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFWLENBQWdCLE1BQWhCLEVBQXdCLHlCQUF4QixFQUxPO0VBQUEsQ0F4QlQsQ0FBQTs7QUFBQSxpQkFpQ0EsTUFBQSxHQUFRLFNBQUEsR0FBQTtBQUNOLFFBQUEsNkJBQUE7QUFBQSxJQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksU0FBWixDQUFBLENBQUE7QUFBQSxJQUNBLElBQUMsQ0FBQSxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQVosQ0FBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsRUFBeUIsS0FBekIsQ0FEQSxDQUFBO0FBQUEsSUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFaLENBQW1CLENBQW5CLEVBQXNCLENBQXRCLEVBQXlCLE1BQXpCLENBRkEsQ0FBQTtBQUFBLElBS0EsS0FBQSxHQUFRLElBQUMsQ0FBQSxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQVosQ0FBQSxDQUxSLENBQUE7QUFPQSxTQUFTLDhCQUFULEdBQUE7QUFDRSxNQUFBLElBQUEsR0FBTyxLQUFLLENBQUMsTUFBTixDQUFhLENBQUEsR0FBSSxFQUFqQixFQUFxQixDQUFyQixFQUF3QixNQUF4QixDQUFQLENBQUE7QUFBQSxNQUNBLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQWxCLEdBQXNCLENBRHRCLENBQUE7QUFBQSxNQUVBLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQWpCLEdBQXFCLEdBQUEsR0FBTSxJQUFJLENBQUMsTUFBTCxDQUFBLENBQUEsR0FBZ0IsR0FGM0MsQ0FERjtBQUFBLEtBUEE7V0FZQSxTQUFBLEdBQVksSUFBQyxDQUFBLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBWixDQUFpQixFQUFqQixFQUFxQixFQUFyQixFQUF5QixVQUF6QixFQUFxQztBQUFBLE1BQUEsSUFBQSxFQUFNLFlBQU47QUFBQSxNQUFvQixJQUFBLEVBQU0sTUFBMUI7S0FBckMsRUFiTjtFQUFBLENBakNSLENBQUE7O0FBQUEsaUJBaURBLFdBQUEsR0FBYSxTQUFDLE1BQUQsRUFBUyxJQUFULEdBQUE7QUFDWCxJQUFBLElBQUksQ0FBQyxJQUFMLENBQUEsQ0FBQSxDQUFBO0FBQUEsSUFDQSxLQUFBLElBQVMsRUFEVCxDQUFBO1dBRUEsU0FBUyxDQUFDLE9BQVYsR0FBcUIsU0FBQSxHQUFRLE1BSGxCO0VBQUEsQ0FqRGIsQ0FBQTs7QUFBQSxpQkFzREEsTUFBQSxHQUFRLFNBQUEsR0FBQTtBQUNOLElBQUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBaEIsQ0FBd0IsS0FBeEIsRUFBK0IsU0FBL0IsQ0FBQSxDQUFBO1dBQ0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBaEIsQ0FBd0IsS0FBeEIsRUFBK0IsV0FBL0IsRUFBNEMsSUFBNUMsRUFBa0QsSUFBbEQsRUFGTTtFQUFBLENBdERSLENBQUE7O2NBQUE7O0lBZkosQ0FBQTs7QUFBQSxJQXlFQSxHQUFXLElBQUEsSUFBQSxDQUFBLENBekVYLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNvbnNvbGUubG9nICdoZWxsbyBwaGFzZXInXG5cblxuXG5cbmNsYXNzIENvb3JkXG4gICAgY29uc3RydWN0b3I6IChAeCwgQHkpIC0+XG5cbmNsYXNzIFBsYXllclxuICAgIGNvbnN0cnVjdG9yOiAoQGdhbWUsIEBpZCwgQHNjb3JlKSAtPlxuICAgICAgICBncm91bmQgPSBwbGF0Zm9ybXMuY3JlYXRlIChAZ2FtZS5waGFzZXIud29ybGQud2lkdGggLyBAZ2FtZS5wbGF5ZXJzLmxlbmd0aCkqaWQsIEBnYW1lLnBoYXNlci53b3JsZC5oZWlnaHQgLSA2NCwgJ2dyb3VuZCdcbiAgICAgICAgZ3JvdW5kLnNjYWxlLnNldFRvIDAuMywgMlxuICAgICAgICBncm91bmQuYm9keS5pbW1vdmFibGUgPSB0cnVlXG5cbmNsYXNzIEdhbWVcbiAgICBHYW1lU3RhdHVzID0gXG4gICAgICAgIElOSVQgOiAxXG4gICAgICAgIFJVTk5JTkcgOiAyXG4gICAgICAgIFNDT1JFIDogM1xuXG4gICAgY29uc3RydWN0b3I6IChAc3RhdHVzLCBAcGxheWVycykgLT5cbiAgICAgICAgIyBiYXNpYyBjb25maWdcbiAgICAgICAgQHdpbmRvd194ID0gMTIwMFxuICAgICAgICBAd2luZG93X3kgPSA2ODBcbiAgICAgICAgQHN0YXJzID0gbnVsbFxuICAgICAgICBAc2NvcmVUZXh0ID0gbnVsbFxuICAgICAgICBAc2NvcmUgPSAwXG4gICAgICAgIEBwbGF5ZXJzID0gW11cbiAgICAgICAgIyBHZW5lcmF0ZSB0aGUgd29yZFxuICAgICAgICBAcGhhc2VyID0gbmV3IFBoYXNlci5HYW1lIEB3aW5kb3dfeCwgQHdpbmRvd195LCBQaGFzZXIuQVVUTywgJycsIHByZWxvYWQ6IEBwcmVsb2FkLCBjcmVhdGU6IEBjcmVhdGUsIHVwZGF0ZTogQHVwZGF0ZVxuICAgICAgICBAZ2VuZXJhdGVfZmFrZV9wbGF5ZXIoKVxuICAgICAgICBAcGxhdGZvcm1zID0gQHBoYXNlci5hZGQuZ3JvdXAoKVxuXG5cbiAgICBnZW5lcmF0ZV9mYWtlX3BsYXllcjogKCkgLT5cbiAgICAgICAgeCA9IHkgPSAwXG4gICAgICAgIGZvciBpIGluIFswLi4zXVxuICAgICAgICAgICAgQHBsYXllcnMucHVzaCBuZXcgUGxheWVyIEBnYW1lLCBpLCAwXG5cbiAgICBwcmVsb2FkOiAoKSAtPlxuICAgICAgY29uc29sZS5sb2cgJzpwcmVsb2FkJ1xuICAgICAgY29uc29sZS5sb2cgdGhpc1xuICAgICAgdGhpcy5sb2FkLmltYWdlICdza3knLCAnL2Fzc2V0cy9pbWFnZXMvc2t5LnBuZydcbiAgICAgIHRoaXMubG9hZC5pbWFnZSAnZ3JvdW5kJywgJy9hc3NldHMvaW1hZ2VzL3BsYXRmb3JtLnBuZydcbiAgICAgIHRoaXMubG9hZC5pbWFnZSAnc3RhcicsICcvYXNzZXRzL2ltYWdlcy9zdGFyLnBuZydcbiAgICAgICNnYW1lLmxvYWQuc3ByaXRlc2hlZXQgJ2R1ZGUnLCAnL2Fzc2V0cy9pbWFnZXMvZHVkZS5wbmcnLCAzMiwgNDhcblxuXG4gICAgY3JlYXRlOiAoKSAtPlxuICAgICAgY29uc29sZS5sb2cgJzpjcmVhdGUnXG4gICAgICBAcGhhc2VyLmFkZC5zcHJpdGUgMCwgMCwgJ3NreSdcbiAgICAgIEBwaGFzZXIuYWRkLnNwcml0ZSAwLCAwLCAnc3RhcidcblxuICAgICAgI2N1cnNvcnMgPSBAcGhhc2VyLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKVxuICAgICAgc3RhcnMgPSBAcGhhc2VyLmFkZC5ncm91cCgpXG5cbiAgICAgIGZvciBpIGluIFswLi4xMl1cbiAgICAgICAgc3RhciA9IHN0YXJzLmNyZWF0ZSBpICogNzAsIDAsICdzdGFyJ1xuICAgICAgICBzdGFyLmJvZHkuZ3Jhdml0eS55ID0gNlxuICAgICAgICBzdGFyLmJvZHkuYm91bmNlLnkgPSAwLjcgKyBNYXRoLnJhbmRvbSgpICogMC4yXG5cbiAgICAgIHNjb3JlVGV4dCA9IEBwaGFzZXIuYWRkLnRleHQgMTYsIDE2LCAnc2NvcmU6IDAnLCBmb250OiAnMzJweCBhcmlhbCcsIGZpbGw6ICcjMDAwJ1xuXG5cbiAgICBjb2xsZWN0U3RhcjogKHBsYXllciwgc3RhcikgLT5cbiAgICAgIHN0YXIua2lsbCgpXG4gICAgICBzY29yZSArPSAxMFxuICAgICAgc2NvcmVUZXh0LmNvbnRlbnQgPSBcIlNjb3JlOiAje3Njb3JlfVwiXG5cbiAgICB1cGRhdGU6ICgpIC0+XG4gICAgICBAcGhhc2VyLnBoeXNpY3MuY29sbGlkZSBzdGFycywgcGxhdGZvcm1zXG4gICAgICBAcGhhc2VyLnBoeXNpY3Mub3ZlcmxhcCBzdGFycywgY29sbGVjdFN0YXIsIG51bGwsIHRoaXNcblxuZ2FtZSA9IG5ldyBHYW1lKClcbiJdfQ==
