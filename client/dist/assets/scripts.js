(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var Ball, Coord, Game, Player;

console.log('hello phaser');

Coord = (function() {
  function Coord(x, y) {
    this.x = x;
    this.y = y;
  }

  return Coord;

})();

Player = (function() {
  function Player(game, id, avatar) {
    var max_space_player, nbr_player, pointer, x, y;
    this.game = game;
    this.id = id;
    this.avatar = avatar;
    nbr_player = 5;
    max_space_player = this.game.phaser.width / (nbr_player + 1);
    pointer = max_space_player + this.id * max_space_player - (max_space_player / 2);
    x = max_space_player + this.id * max_space_player - (max_space_player / 2);
    y = this.game.phaser.world.height - 25;
    this.bucket = this.game.buckets.create(x, y, 'ground');
    this.bucket.width = max_space_player - 10;
    this.bucket.body.data.motionState = p2.Body.STATIC;
    this.bucket.body.uuid = this.id;
    this.bucket.playerParent = this;
    this.bucket.scale.setTo(0.3, 2);
    this.score = 0;
    this.scoreText = this.game.phaser.add.text(pointer, 16, '', {
      font: '32px arial',
      fill: '#fff'
    });
  }

  Player.prototype.addScore = function(score) {
    this.score += score;
    return this.scoreText.setText("player " + this.id + ": " + this.score);
  };

  return Player;

})();

Ball = (function() {
  function Ball(game, coord, score, type) {
    this.game = game;
    this.coord = coord;
    this.score = score;
    this.type = type;
    this.ball = this.game.balls.create(this.coord, 0, 'star');
    this.ball.physicsBodyType = Phaser.Physics.P2JS;
    this.ball.body.onBeginContact.add(this.captureBall, this);
  }

  Ball.prototype.captureBall = function(k) {
    if (k.sprite.key === 'ground') {
      this.game.players[k.uuid].addScore(this.score);
      return this.ball.kill();
    }
  };

  return Ball;

})();

Game = (function() {
  function Game(players) {
    var self;
    this.players = players;
    console.log(this.players);
    this.balls = null;
    this.buckets = null;
    this.colliders = null;
    this.players = players;
    self = this;
    this.phaser = new Phaser.Game(1200, 680, Phaser.AUTO, 'game', {
      preload: (function() {
        return self.preload();
      }),
      create: (function() {
        return self.create();
      }),
      update: (function() {
        return self.update();
      }),
      render: (function() {
        return self.render();
      })
    });
    this.socket = socket;
    this.socket.on('new player', (function(data) {
      return console.log(data);
    }));
    this.socket.on('character spawned', (function(data) {
      return console.log(data);
    }));
    this.socket.on('game stop', (function() {
      return console.log("GAME STOP");
    }));
  }

  Game.prototype.generate_fake_player = function() {
    var uuid, x, y, _i, _results;
    x = y = 0;
    _results = [];
    for (uuid = _i = 0; _i <= 4; uuid = ++_i) {
      _results.push(this.players[uuid] = new Player(this, uuid, null));
    }
    return _results;
  };

  Game.prototype.generate_fake_balls = function() {
    var ball, i, rd, _i, _results;
    _results = [];
    for (i = _i = 0; _i <= 12; i = ++_i) {
      rd = Math.random();
      if (0.95 < rd) {
        _results.push(ball = new Ball(this, i * 80, 10, 'facecat'));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  Game.prototype.preload = function() {
    console.log(':preload');
    this.phaser.load.image('sky', '/assets/images/sky.png');
    this.phaser.load.image('ground', '/assets/images/platform.png');
    this.phaser.load.image('circle', '/assets/images/circle.png');
    this.phaser.load.image('star', '/assets/images/star.png');
    return this.phaser.load.image('wall', '/assets/images/star.png');
  };

  Game.prototype.create = function() {
    console.log(':create');
    this.phaser.physics.startSystem(Phaser.Physics.P2JS);
    this.phaser.physics.p2.gravity.y = 200;
    this.phaser.add.sprite(0, 0, 'sky');
    this.buckets = this.phaser.add.group();
    this.buckets.enableBody = true;
    this.buckets.physicsBodyType = Phaser.Physics.P2JS;
    this.generate_fake_player();
    this.balls = this.phaser.add.group();
    this.balls.enableBody = true;
    this.balls.physicsBodyType = Phaser.Physics.P2JS;
    this.colliders = this.phaser.add.group();
    this.colliders.enableBody = true;
    this.colliders.physicsBodyType = Phaser.Physics.P2JS;
    this.new_line = new Phaser.Line(0, 0, 0, 0);
    return this.phaser.input.onDown.add(this.click, this);
  };

  Game.prototype.collectBalls = function(plateform, ball) {
    return plateform.playerParent.captureBall(ball);
  };

  Game.prototype.buildCollider = function(wall) {
    var wall_sprite;
    wall_sprite = this.colliders.create(wall.x, wall.y, 'circle');
    this.phaser.physics.p2.enable(wall_sprite, false);
    wall_sprite.body.data.motionState = p2.Body.STATIC;
    return wall_sprite.body.data.gravityScale = 0;
  };

  Game.prototype.update = function() {
    return this.generate_fake_balls();
  };

  Game.prototype.render = function() {};

  Game.prototype.click = function(pointer) {
    return this.buildCollider(pointer);
  };

  return Game;

})();

window.Game = Game;


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlcyI6WyIvaG9tZS9lcGkvQnVyZWF1L1NhdmVUaGVJbnRlcm5ldC9jbGllbnQvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL2hvbWUvZXBpL0J1cmVhdS9TYXZlVGhlSW50ZXJuZXQvY2xpZW50L3NjcmlwdHMvY29mZmVlL2FwcC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFBLHlCQUFBOztBQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksY0FBWixDQUFBLENBQUE7O0FBQUE7QUFLaUIsRUFBQSxlQUFFLENBQUYsRUFBTSxDQUFOLEdBQUE7QUFBVSxJQUFULElBQUMsQ0FBQSxJQUFBLENBQVEsQ0FBQTtBQUFBLElBQUwsSUFBQyxDQUFBLElBQUEsQ0FBSSxDQUFWO0VBQUEsQ0FBYjs7ZUFBQTs7SUFMSixDQUFBOztBQUFBO0FBUWlCLEVBQUEsZ0JBQUUsSUFBRixFQUFTLEVBQVQsRUFBYyxNQUFkLEdBQUE7QUFDVCxRQUFBLDJDQUFBO0FBQUEsSUFEVSxJQUFDLENBQUEsT0FBQSxJQUNYLENBQUE7QUFBQSxJQURpQixJQUFDLENBQUEsS0FBQSxFQUNsQixDQUFBO0FBQUEsSUFEc0IsSUFBQyxDQUFBLFNBQUEsTUFDdkIsQ0FBQTtBQUFBLElBQUEsVUFBQSxHQUFhLENBQWIsQ0FBQTtBQUFBLElBQ0EsZ0JBQUEsR0FBbUIsSUFBQyxDQUFBLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBYixHQUFxQixDQUFDLFVBQUEsR0FBYSxDQUFkLENBRHhDLENBQUE7QUFBQSxJQUdBLE9BQUEsR0FBVSxnQkFBQSxHQUFtQixJQUFDLENBQUEsRUFBRCxHQUFNLGdCQUF6QixHQUE0QyxDQUFDLGdCQUFBLEdBQW1CLENBQXBCLENBSHRELENBQUE7QUFBQSxJQUtBLENBQUEsR0FBSyxnQkFBQSxH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O0VBQUEsQ0F4RWQsQ0FBQTs7QUFBQSxpQkEyRUEsYUFBQSxHQUFlLFNBQUMsSUFBRCxHQUFBO0FBQ1gsUUFBQSxXQUFBO0FBQUEsSUFBQSxXQUFBLEdBQWMsSUFBQyxDQUFBLFNBQVMsQ0FBQyxNQUFYLENBQW1CLElBQUksQ0FBQyxDQUF4QixFQUEyQixJQUFJLENBQUMsQ0FBaEMsRUFBbUMsUUFBbkMsQ0FBZCxDQUFBO0FBQUEsSUFDQSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsTUFBbkIsQ0FBMEIsV0FBMUIsRUFBdUMsS0FBdkMsQ0FEQSxDQUFBO0FBQUEsSUFFQSxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUF0QixHQUFvQyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BRjVDLENBQUE7V0FHQSxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUF0QixHQUFxQyxFQUoxQjtFQUFBLENBM0VmLENBQUE7O0FBQUEsaUJBaUZBLE1BQUEsR0FBUSxTQUFBLEdBQUE7V0FDTixJQUFDLENBQUEsbUJBQUQsQ0FBQSxFQURNO0VBQUEsQ0FqRlIsQ0FBQTs7QUFBQSxpQkFxRkEsTUFBQSxHQUFRLFNBQUEsR0FBQSxDQXJGUixDQUFBOztBQUFBLGlCQXVGQSxLQUFBLEdBQU8sU0FBQyxPQUFELEdBQUE7V0FDSCxJQUFDLENBQUEsYUFBRCxDQUFlLE9BQWYsRUFERztFQUFBLENBdkZQLENBQUE7O2NBQUE7O0lBNUNKLENBQUE7O0FBQUEsTUFzSU0sQ0FBQyxJQUFQLEdBQWMsSUF0SWQsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiY29uc29sZS5sb2cgJ2hlbGxvIHBoYXNlcidcblxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmNsYXNzIENvb3JkXG4gICAgY29uc3RydWN0b3I6IChAeCwgQHkpIC0+XG5cbmNsYXNzIFBsYXllclxuICAgIGNvbnN0cnVjdG9yOiAoQGdhbWUsIEBpZCwgQGF2YXRhcikgLT5cbiAgICAgICAgbmJyX3BsYXllciA9IDVcbiAgICAgICAgbWF4X3NwYWNlX3BsYXllciA9IEBnYW1lLnBoYXNlci53aWR0aCAvIChuYnJfcGxheWVyICsgMSlcblxuICAgICAgICBwb2ludGVyID0gbWF4X3NwYWNlX3BsYXllciArIEBpZCAqIG1heF9zcGFjZV9wbGF5ZXIgLSAobWF4X3NwYWNlX3BsYXllciAvIDIpXG5cbiAgICAgICAgeCA9ICBtYXhfc3BhY2VfcGxheWVyICsgQGlkICogbWF4X3NwYWNlX3BsYXllciAtIChtYXhfc3BhY2VfcGxheWVyIC8gMilcbiAgICAgICAgeSA9ICBAZ2FtZS5waGFzZXIud29ybGQuaGVpZ2h0IC0gMjVcblxuICAgICAgICBAYnVja2V0ID0gQGdhbWUuYnVja2V0cy5jcmVhdGUgeCwgeSwgJ2dyb3VuZCdcbiAgICAgICAgQGJ1Y2tldC53aWR0aCA9IG1heF9zcGFjZV9wbGF5ZXIgLSAxMFxuICAgICAgICBAYnVja2V0LmJvZHkuZGF0YS5tb3Rpb25TdGF0ZSA9IHAyLkJvZHkuU1RBVElDXG4gICAgICAgIEBidWNrZXQuYm9keS51dWlkID0gQGlkXG4gICAgICAgIEBidWNrZXQucGxheWVyUGFyZW50ID0gdGhpc1xuICAgICAgICBAYnVja2V0LnNjYWxlLnNldFRvIDAuMywgMlxuICAgICAgICBAc2NvcmUgPSAwXG4gICAgICAgIEBzY29yZVRleHQgPSBAZ2FtZS5waGFzZXIuYWRkLnRleHQgcG9pbnRlciwgMTYsICcnLCBmb250OiAnMzJweCBhcmlhbCcsIGZpbGw6ICcjZmZmJ1xuXG4gICAgYWRkU2NvcmU6IChzY29yZSkgLT5cbiAgICAgICAgQHNjb3JlICs9IHNjb3JlXG4gICAgICAgIEBzY29yZVRleHQuc2V0VGV4dCBcInBsYXllciAje0BpZH06ICN7QHNjb3JlfVwiXG5cbmNsYXNzIEJhbGxcbiAgICBjb25zdHJ1Y3RvcjogKEBnYW1lLCBAY29vcmQsIEBzY29yZSwgQHR5cGUpIC0+XG4gICAgICAgIEBiYWxsID0gQGdhbWUuYmFsbHMuY3JlYXRlIEBjb29yZCwgMCwgJ3N0YXInXG4gICAgICAgIEBiYWxsLnBoeXNpY3NCb2R5VHlwZSA9IFBoYXNlci5QaHlzaWNzLlAySlNcblxuICAgICAgICBAYmFsbC5ib2R5Lm9uQmVnaW5Db250YWN0LmFkZChAY2FwdHVyZUJhbGwsIHRoaXMpXG5cbiAgICBjYXB0dXJlQmFsbDogKGspIC0+XG4gICAgICAgIGlmIGsuc3ByaXRlLmtleSA9PSAnZ3JvdW5kJ1xuICAgICAgICAgICAgQGdhbWUucGxheWVyc1trLnV1aWRdLmFkZFNjb3JlKEBzY29yZSlcbiAgICAgICAgICAgIEBiYWxsLmtpbGwoKVxuXG5jbGFzcyBHYW1lXG5cbiAgICBjb25zdHJ1Y3RvcjogKEBwbGF5ZXJzKSAtPlxuICAgICAgICBjb25zb2xlLmxvZyBAcGxheWVyc1xuXG4gICAgICAgICMgYmFzaWMgY29uZmlnXG4gICAgICAgIEBiYWxscyA9IG51bGxcbiAgICAgICAgQGJ1Y2tldHMgPSBudWxsXG4gICAgICAgIEBjb2xsaWRlcnMgPSBudWxsXG4gICAgICAgIEBwbGF5ZXJzID0gcGxheWVyc1xuICAgICAgICAjIEdlbmVyYXRlIHRoZSB3b3JkXG4gICAgICAgIHNlbGYgPSB0aGlzXG4gICAgICAgIEBwaGFzZXIgPSBuZXcgUGhhc2VyLkdhbWUoXG4gICAgICAgICAgICAxMjAwLFxuICAgICAgICAgICAgNjgwLFxuICAgICAgICAgICAgUGhhc2VyLkFVVE8sXG4gICAgICAgICAgICAnZ2FtZScsXG4gICAgICAgICAgICBwcmVsb2FkOiggLT4gc2VsZi5wcmVsb2FkKCkpLFxuICAgICAgICAgICAgY3JlYXRlOiAoIC0+IHNlbGYuY3JlYXRlKCkpLFxuICAgICAgICAgICAgdXBkYXRlOiAoLT4gc2VsZi51cGRhdGUoKSksXG4gICAgICAgICAgICByZW5kZXI6ICgtPiBzZWxmLnJlbmRlcigpKVxuICAgICAgICApXG4gICAgICAgIEBzb2NrZXQgPSBzb2NrZXRcbiAgICAgICAgQHNvY2tldC5vbignbmV3IHBsYXllcicsICgoZGF0YSkgLT4gY29uc29sZS5sb2cgZGF0YSkpXG4gICAgICAgIEBzb2NrZXQub24oJ2NoYXJhY3RlciBzcGF3bmVkJywgKChkYXRhKSAtPiBjb25zb2xlLmxvZyBkYXRhKSlcbiAgICAgICAgQHNvY2tldC5vbignZ2FtZSBzdG9wJywgKC0+IGNvbnNvbGUubG9nIFwiR0FNRSBTVE9QXCIgKSlcblxuXG4gICAgZ2VuZXJhdGVfZmFrZV9wbGF5ZXI6ICgpIC0+XG4gICAgICAgIHggPSB5ID0gMFxuICAgICAgICBmb3IgdXVpZCBpbiBbMC4uNF1cbiAgICAgICAgICAgIEBwbGF5ZXJzW3V1aWRdID0gbmV3IFBsYXllcih0aGlzLCB1dWlkLCBudWxsKVxuXG4gICAgZ2VuZXJhdGVfZmFrZV9iYWxsczogKCkgLT5cbiAgICAgICAgZm9yIGkgaW4gWzAuLjEyXVxuICAgICAgICAgICAgcmQgPSBNYXRoLnJhbmRvbSgpXG4gICAgICAgICAgICBpZiAwLjk1ICA8IHJkXG4gICAgICAgICAgICAgICAgYmFsbCA9IG5ldyBCYWxsKHRoaXMsIGkqODAsIDEwLCAnZmFjZWNhdCcpXG5cblxuICAgIHByZWxvYWQ6ICgpIC0+XG4gICAgICBjb25zb2xlLmxvZyAnOnByZWxvYWQnXG4gICAgICBAcGhhc2VyLmxvYWQuaW1hZ2UgJ3NreScsICcvYXNzZXRzL2ltYWdlcy9za3kucG5nJ1xuICAgICAgQHBoYXNlci5sb2FkLmltYWdlICdncm91bmQnLCAnL2Fzc2V0cy9pbWFnZXMvcGxhdGZvcm0ucG5nJ1xuICAgICAgQHBoYXNlci5sb2FkLmltYWdlICdjaXJjbGUnLCAnL2Fzc2V0cy9pbWFnZXMvY2lyY2xlLnBuZydcbiAgICAgIEBwaGFzZXIubG9hZC5pbWFnZSAnc3RhcicsICcvYXNzZXRzL2ltYWdlcy9zdGFyLnBuZydcbiAgICAgIEBwaGFzZXIubG9hZC5pbWFnZSAnd2FsbCcsICcvYXNzZXRzL2ltYWdlcy9zdGFyLnBuZydcblxuICAgIGNyZWF0ZTogKCkgLT5cbiAgICAgIGNvbnNvbGUubG9nICc6Y3JlYXRlJ1xuICAgICAgQHBoYXNlci5waHlzaWNzLnN0YXJ0U3lzdGVtIFBoYXNlci5QaHlzaWNzLlAySlNcbiAgICAgIEBwaGFzZXIucGh5c2ljcy5wMi5ncmF2aXR5LnkgPSAyMDBcbiAgICAgIEBwaGFzZXIuYWRkLnNwcml0ZSAwLCAwLCAnc2t5J1xuXG4gICAgICBAYnVja2V0cyA9IEBwaGFzZXIuYWRkLmdyb3VwKClcbiAgICAgIEBidWNrZXRzLmVuYWJsZUJvZHkgPSB0cnVlXG4gICAgICBAYnVja2V0cy5waHlzaWNzQm9keVR5cGUgPSBQaGFzZXIuUGh5c2ljcy5QMkpTXG5cbiAgICAgIEBnZW5lcmF0ZV9mYWtlX3BsYXllcigpXG5cblxuICAgICAgI2N1cnNvcnMgPSBAcGhhc2VyLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKVxuICAgICAgQGJhbGxzID0gQHBoYXNlci5hZGQuZ3JvdXAoKVxuICAgICAgQGJhbGxzLmVuYWJsZUJvZHkgPSB0cnVlXG4gICAgICBAYmFsbHMucGh5c2ljc0JvZHlUeXBlID0gUGhhc2VyLlBoeXNpY3MuUDJKU1xuXG4gICAgICBAY29sbGlkZXJzID0gQHBoYXNlci5hZGQuZ3JvdXAoKVxuICAgICAgQGNvbGxpZGVycy5lbmFibGVCb2R5ID0gdHJ1ZVxuICAgICAgQGNvbGxpZGVycy5waHlzaWNzQm9keVR5cGUgPSBQaGFzZXIuUGh5c2ljcy5QMkpTXG5cbiAgICAgIEBuZXdfbGluZSA9IG5ldyBQaGFzZXIuTGluZSAwLCAwLCAwLCAwXG4gICAgICBAcGhhc2VyLmlucHV0Lm9uRG93bi5hZGQoQGNsaWNrLCB0aGlzKVxuXG5cbiAgICBjb2xsZWN0QmFsbHM6IChwbGF0ZWZvcm0sIGJhbGwpIC0+XG4gICAgICBwbGF0ZWZvcm0ucGxheWVyUGFyZW50LmNhcHR1cmVCYWxsKGJhbGwpXG5cbiAgICBidWlsZENvbGxpZGVyOiAod2FsbCkgLT5cbiAgICAgICAgd2FsbF9zcHJpdGUgPSBAY29sbGlkZXJzLmNyZWF0ZSAgd2FsbC54LCB3YWxsLnksICdjaXJjbGUnXG4gICAgICAgIEBwaGFzZXIucGh5c2ljcy5wMi5lbmFibGUod2FsbF9zcHJpdGUsIGZhbHNlKVxuICAgICAgICB3YWxsX3Nwcml0ZS5ib2R5LmRhdGEubW90aW9uU3RhdGUgPSBwMi5Cb2R5LlNUQVRJQ1xuICAgICAgICB3YWxsX3Nwcml0ZS5ib2R5LmRhdGEuZ3Jhdml0eVNjYWxlID0gMFxuXG4gICAgdXBkYXRlOiAoKSAtPlxuICAgICAgQGdlbmVyYXRlX2Zha2VfYmFsbHMoKVxuXG5cbiAgICByZW5kZXI6ICgpIC0+XG5cbiAgICBjbGljazogKHBvaW50ZXIpIC0+XG4gICAgICAgIEBidWlsZENvbGxpZGVyKHBvaW50ZXIpXG5cbndpbmRvdy5HYW1lID0gR2FtZVxuIl19
